<!doctype html>
<!--
DH11 Front-end program.
-->
<html>

<head>
    <meta charset="utf-8">
    <title>RapidReport.</title>
    <script>
        window.onload = function() {
            // Request the user's location as soon as the page loads
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    // Success - user granted permission
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;
                    console.log(`${longitude}, ${latitude}`);

                    document.getElementById("location").innerHTML = 
                        `Location: ${latitude}, ${longitude}`;
                }, function(error) {
                    // Error - user denied permission or there was an issue
                    switch(error.code) {
                        case error.PERMISSION_DENIED:
                            document.getElementById("location").innerHTML = "Location permission denied.";
                            break;
                        case error.POSITION_UNAVAILABLE:
                            document.getElementById("location").innerHTML = "Location information is unavailable.";
                            break;
                        case error.TIMEOUT:
                            document.getElementById("location").innerHTML = "Request timed out.";
                            break;
                        default:
                            document.getElementById("location").innerHTML = "An unknown error occurred.";
                            break;
                    }
                });
            } else {
                document.getElementById("location").innerHTML = "Geolocation is not supported by your browser.";
            }
        };
    </script>
<style>
    .container {  
    text-align: center;
    }

    .report {
        margin-bottom: 20px;
        text-align: center;
        border: 5px solid green;
        padding: 5px;
    }
</style>
</head>

<body>
    <div class="container">
        <h1>Rapid Report</h1>
        <p>Welcome to Rapid Report. For the best possible experience, enable location permission and provide as many details as possible. Include an image if applicable.</p>
    </div>

    <div class="report">
        <p><strong>Report Information</strong></p>
        <p id="location">Location: </p>
        <p id="services">Services to Contact: </p>
        <label for="myFile">Select an image: </label>
        <input type="file" id="myFile" name="filename">
    </div>
</body>

</html>